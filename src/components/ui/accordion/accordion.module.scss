// @use 'sass:color';
@use 'sass:list';

@use '../../../assets/stylesheets/variables' as *;
@use '../../../assets/stylesheets/functions' as *;
@use '../../../assets/stylesheets/mixins' as *;

@function svg-url($color: 'currentColor') {
  @return url(svg-encode(
    '<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="32" height="32" fill="#{$color}"><path d="M24 24H0V0h24v24z" fill="none" opacity=".87"></path><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"></path></svg>'
  ));
}

$svg-size: 2rem; //1.25rem;

.base {
  display: grid;
  gap: 0.5rem;
  transition: 150ms ease;
}

// .condensed {
//   @extend .base;
//   gap: 0;
// }

.item {
  transition: margin 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  border-radius: var(--border-radius);

  > button {
    position: relative;
    display: grid;
    grid-template-columns: 1fr auto;
    place-items: flex-start;
    align-items: center;
    padding: 0.75rem 1rem;
    margin: 0;

    &::after {
      content: '';
      flex-shrink: 0;
      width: $svg-size;
      height: $svg-size;
      margin-left: auto;
      // margin-top: 0.125rem;
      background-image: svg-url();
      background-repeat: no-repeat;
      background-size: $svg-size;
      transition: transform 0.2s ease-in-out;
    }
  }

  > * {
    border-radius: var(--border-radius) !important;
  }
}

@each $shade, $colour in (light: $white, dark: $black) {
  .toggle_icon_#{$shade} {
    &::after {
      background-image: svg-url($colour) !important;
    }
  }
}

// .condensed .item,
// .condensed .item > * {
//   border-radius: 0 !important;
// }

@each $colour, $value in list.join($theme-colours, $award-theme-colours) {
  $contrast-color: contrast-color($value);

  .#{$colour} {
    color: $contrast-color;
    background-color: var(--#{$colour});
    @include button-states($value);

    &::after {
      background-image: svg-url($contrast-color) !important;
    }
  }
}

.item_expanded {
  @extend .item;

  > button::after {
    transform: rotate(-180deg);
  }
}
